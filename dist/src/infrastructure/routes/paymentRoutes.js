"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const paymentController_1 = __importDefault(require("../../adapters/controllers/paymentController"));
const clubRepository_1 = __importDefault(require("../repository/clubRepository"));
const fixtureRepository_1 = __importDefault(require("../repository/fixtureRepository"));
const stadiumRepository_1 = __importDefault(require("../repository/stadiumRepository"));
const paymentRepository_1 = __importDefault(require("../repository/paymentRepository"));
const fixtureUseCase_1 = __importDefault(require("../../useCase/fixtureUseCase"));
const generateQrCode_1 = __importDefault(require("../services/generateQrCode"));
const ticketRepository_1 = __importDefault(require("../repository/ticketRepository"));
const cartRepository_1 = __importDefault(require("../repository/cartRepository"));
const ticketUseCase_1 = __importDefault(require("../../useCase/ticketUseCase"));
const sendMail_1 = __importDefault(require("../services/sendMail"));
const userRepository_1 = __importDefault(require("../repository/userRepository"));
const couponRepository_1 = __importDefault(require("../repository/couponRepository"));
const scheduleTask_1 = __importDefault(require("../services/scheduleTask"));
const generateQrCode = new generateQrCode_1.default();
const generateEmail = new sendMail_1.default();
const schedule = new scheduleTask_1.default();
const clubRepository = new clubRepository_1.default();
const fixtureRepository = new fixtureRepository_1.default();
const stadiumRepository = new stadiumRepository_1.default();
const paymentRepository = new paymentRepository_1.default();
const couponRepository = new couponRepository_1.default();
const ticketRepository = new ticketRepository_1.default();
const cartRepository = new cartRepository_1.default();
const userRepository = new userRepository_1.default();
const fixtureCase = new fixtureUseCase_1.default(fixtureRepository, clubRepository, stadiumRepository, paymentRepository, schedule, userRepository);
const ticketCase = new ticketUseCase_1.default(ticketRepository, fixtureRepository, cartRepository, generateQrCode, paymentRepository, userRepository, generateEmail, couponRepository);
const controller = new paymentController_1.default(fixtureCase, ticketCase);
const router = express_1.default.Router();
router.post('/webhook', express_1.default.raw({ type: 'application/json' }), (req, res) => controller.verifyPayment(req, res));
exports.default = router;
